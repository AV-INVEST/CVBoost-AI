"use strict";(()=>{var e={};e.id=33,e.ids=[33],e.modules={3524:e=>{e.exports=require("@prisma/client")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2185:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>h,patchFetch:()=>m,requestAsyncStorage:()=>c,routeModule:()=>l,serverHooks:()=>g,staticGenerationAsyncStorage:()=>v});var s={};t.r(s),t.d(s,{POST:()=>d});var a=t(9303),o=t(8716),n=t(3131),u=t(7070),i=t(3524);let p=globalThis.prisma||new i.PrismaClient;async function d(e){try{let r;{let r=e.headers.get("x-admin-secret");if(!r||r!==process.env.DEV_ADMIN_SECRET)return u.NextResponse.json({ok:!1,error:"unauthorized"},{status:401})}let t=null;try{t=await e.json()}catch{t=null}let s=new URL(e.url).searchParams.get("requestKey")||void 0,a=e.headers.get("x-request-key")||void 0,o=t?.requestKey??a??s;return r=o?await p.usage.deleteMany({where:{requestKey:o}}):await p.usage.deleteMany({}),u.NextResponse.json({ok:!0,cleared:r.count,byKey:o??null})}catch(e){return console.error("reset-usage error:",e),u.NextResponse.json({ok:!1,error:"reset-failed"},{status:500})}}let l=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/dev/reset-usage/route",pathname:"/api/dev/reset-usage",filename:"route",bundlePath:"app/api/dev/reset-usage/route"},resolvedPagePath:"C:\\Users\\viva_\\OneDrive\\Desktop\\cvboost-ai\\src\\app\\api\\dev\\reset-usage\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:v,serverHooks:g}=l,h="/api/dev/reset-usage/route";function m(){return(0,n.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:v})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[276,972],()=>t(2185));module.exports=s})();