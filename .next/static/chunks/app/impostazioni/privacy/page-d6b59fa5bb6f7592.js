(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929],{2862:function(e,i,t){Promise.resolve().then(t.bind(t,8748))},8748:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return l}});var n=t(7437),a=t(2265);function l(){let[e,i]=(0,a.useState)(!1),[t,l]=(0,a.useState)(null);async function o(){if(l(null),confirm("Confermi l'eliminazione definitiva dell'account? L'operazione non \xe8 reversibile.")){i(!0);try{let e=await fetch("/api/account/delete",{method:"POST"}),i=await e.json();if(!e.ok||!(null==i?void 0:i.ok))throw Error((null==i?void 0:i.error)||"Errore");window.location.href="/"}catch(e){l((null==e?void 0:e.message)||"Errore eliminazione")}finally{i(!1)}}}return(0,n.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-10",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Privacy & Dati"}),(0,n.jsx)("p",{className:"text-slate-600 mb-6",children:"Scarica una copia dei tuoi dati o elimina definitivamente l’account."}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("a",{href:"/api/account/export",className:"px-4 py-2 rounded-lg bg-slate-900 text-white hover:bg-slate-800",children:"Esporta i miei dati"}),(0,n.jsx)("button",{onClick:o,disabled:e,className:"px-4 py-2 rounded-lg bg-red-500 text-white hover:bg-red-600 disabled:opacity-60",children:e?"Elimino…":"Elimina account"})]}),t&&(0,n.jsx)("p",{className:"mt-4 text-red-600",children:t})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=2862)}),_N_E=e.O()}]);