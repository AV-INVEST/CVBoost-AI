(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{519:function(e,s,a){Promise.resolve().then(a.bind(a,1519))},1519:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return z}});var i=a(7437),t=a(2265),l=a(3332);function n(e){let{onAuthChange:s}=e,[a,l]=(0,t.useState)(""),[n,r]=(0,t.useState)("idle"),[o,c]=(0,t.useState)({uid:null,plan:"free"}),[d,m]=(0,t.useState)("login"),[x,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)(""),[g,b]=(0,t.useState)(!1),[f,j]=(0,t.useState)(""),[v,N]=(0,t.useState)(""),[w,y]=(0,t.useState)(null),[C,S]=(0,t.useState)(null);async function k(){r("checking");try{var e,a;let i=await fetch("/api/auth/me",{cache:"no-store"}),t=await i.json(),l={uid:null!==(e=t.uid)&&void 0!==e?e:null,plan:null!==(a=t.plan)&&void 0!==a?a:"free"};c(l),r(l.uid?"logged-in":"idle"),null==s||s({status:l.uid?"logged-in":"logged-out",me:l})}catch(e){r("error")}}async function E(){await fetch("/api/auth/logout",{method:"POST"}),await k()}function z(e,s){var i;m(e),u(!0),j(""),N(""),y(null),S(null),p((null!==(i=null!=s?s:a)&&void 0!==i?i:"").trim())}async function P(){if(!h){N("Inserisci una email valida");return}b(!0),j(""),N(""),y(null),S(null);try{let e=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h})}),s=await e.json();if(!e.ok||!s.ok)throw Error(s.error||"Errore invio");s.devLink&&y(s.devLink),s.preview&&S(s.preview),j(s.message||"Email inviata! Controlla la casella.")}catch(e){N(e.message||"Errore")}finally{b(!1)}}(0,t.useEffect)(()=>{k()},[]);let A="login"===d,R=A?"emerald":"indigo";return(0,i.jsx)("div",{className:"flex items-center gap-3",children:"logged-in"!==n?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("input",{className:"border rounded px-2 py-1",placeholder:"tuo@email.it",value:a,onChange:e=>l(e.target.value),onKeyDown:e=>{"Enter"===e.key&&z("login",a)}}),(0,i.jsx)("button",{onClick:()=>z("login",a),className:"px-3 py-1 rounded bg-black text-white",children:"Accedi"}),(0,i.jsx)("button",{onClick:()=>z("signup",a),className:"px-3 py-1 rounded border hover:shadow transition",children:"Registrati"}),x&&(0,i.jsx)("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:(0,i.jsxs)("div",{className:"bg-white rounded-2xl shadow p-5 w-full max-w-sm",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,i.jsx)("svg",{"aria-hidden":"true",viewBox:"0 0 24 24",className:"w-5 h-5 text-".concat(R,"-600"),children:(0,i.jsx)("path",{fill:"currentColor",d:"M12 2a5 5 0 00-5 5v3H6a2 2 0 00-2 2v7a2 2 0 002 2h12a2 2 0 002-2v-7a2 2 0 00-2-2h-1V7a5 5 0 00-5-5zm-3 8V7a3 3 0 116 0v3H9z"})}),(0,i.jsx)("h3",{className:"text-lg font-semibold",children:A?"Accedi in modo sicuro":"Crea il tuo account (senza password)"})]}),(0,i.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:A?"Riceverai un link monouso per confermare che la casella \xe8 tua. Nessuno pu\xf2 entrare senza accesso alla tua email.":"Inserisci la tua email: ti invieremo un link di conferma. Per i prossimi accessi riceverai ogni volta un link sicuro."}),(0,i.jsx)("input",{value:h,onChange:e=>p(e.target.value),placeholder:"tua@email.it",className:"w-full px-3 py-2 rounded border mb-2 focus:outline-none focus:ring-2 focus:ring-".concat(R,"-500")}),(0,i.jsx)("ul",{className:"text-xs text-gray-600 mb-3 list-disc pl-5",children:(A?["Link monouso","Scade tra ~30 minuti","Nessuna password da ricordare"]:["Niente password","Conferma in 1 click dal tuo inbox","Funziona anche in futuro: riceverai un link ogni volta"]).map(e=>(0,i.jsx)("li",{children:e},e))}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("button",{onClick:function(){u(!1),b(!1),j(""),N(""),y(null),S(null)},className:"px-3 py-2 rounded border",children:"Annulla"}),(0,i.jsx)("button",{onClick:P,disabled:g,className:"px-3 py-2 rounded bg-".concat(R,"-600 text-white disabled:opacity-60"),children:g?"Invio…":A?"Invia link di accesso":"Invia link di conferma"})]}),f&&(0,i.jsx)("p",{className:"text-sm text-emerald-700 mt-3",children:f}),v&&(0,i.jsx)("p",{className:"text-sm text-red-600 mt-2",children:v}),C&&(0,i.jsxs)("p",{className:"text-sm mt-2",children:["Anteprima (Ethereal):"," ",(0,i.jsx)("a",{className:"text-".concat(R,"-600 underline"),href:C,target:"_blank",rel:"noreferrer",children:"apri"})]}),!C&&w&&(0,i.jsxs)("p",{className:"text-sm mt-2",children:["Link DEV:"," ",(0,i.jsx)("a",{className:"text-".concat(R,"-600 underline"),href:w,children:"apri"})]})]})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{children:["Connesso come ",(0,i.jsx)("b",{children:o.uid})," — piano ",(0,i.jsx)("b",{children:o.plan})]}),(0,i.jsx)("button",{onClick:E,className:"px-3 py-1 rounded border",children:"Logout"})]})})}function r(e){let{refreshKey:s=0,overrideRemaining:a,onResolved:l}=e,[n,r]=(0,t.useState)(null),[o,c]=(0,t.useState)(Date.now());async function d(){let e=await fetch("/api/usage/summary",{cache:"no-store"}),s=await e.json();r(s),null==l||l(s)}(0,t.useEffect)(()=>{let e=setInterval(()=>c(Date.now()),1e3);return()=>clearInterval(e)},[]),(0,t.useEffect)(()=>{d()},[s]);let m=(0,t.useMemo)(()=>{var e;return null!=a?a:null!==(e=null==n?void 0:n.remaining)&&void 0!==e?e:null},[n,a]),x=(0,t.useMemo)(()=>n&&"unlimited"!==n.scope?"number"==typeof n.limit&&"number"==typeof m?Math.max(0,n.limit-m):"number"==typeof n.used?n.used:0:null,[n,m]),u=(0,t.useMemo)(()=>n?"unlimited"===n.scope?100:"number"==typeof n.limit&&"number"==typeof m&&n.limit>0?Math.min(100,Math.round(m/n.limit*100)):0:0,[n,m]),h=(0,t.useMemo)(()=>{var e;return(null==n?void 0:n.resetAt)?(e=Math.max(0,n.resetAt-o),"".concat(Math.floor(e/864e5)," giorni, ").concat(Math.floor(e%864e5/36e5)," ore, ").concat(Math.floor(e%36e5/6e4)," minuti")):null},[n,o]);if(!n)return(0,i.jsx)("div",{className:"rounded-2xl border bg-white shadow p-4 animate-pulse h-[96px] w-full"});let p="unlimited"===n.scope?"Illimitate":"monthly"===n.scope?"Mensili":"Giornaliere";return(0,i.jsxs)("div",{className:"w-full rounded-2xl border bg-white shadow p-4 flex items-center gap-4",children:[(0,i.jsxs)("div",{className:"flex-1 flex items-center gap-4",children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"h-16 w-16 rounded-full border-4 border-gray-200"}),(0,i.jsx)("div",{className:"absolute inset-0 rounded-full",style:{background:"unlimited"===n.scope?"conic-gradient(#4f46e5 360deg, #e5e7eb 0deg)":"conic-gradient(#4f46e5 ".concat(3.6*u,"deg, #e5e7eb 0deg)")}}),(0,i.jsx)("div",{className:"absolute inset-0 flex items-center justify-center font-extrabold text-xl",children:"unlimited"===n.scope?"∞":"number"==typeof x?x:"–"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"unlimited"===n.scope?"Analisi illimitate":"Analisi effettuate"}),(0,i.jsx)("div",{className:"text-2xl font-bold",children:"unlimited"===n.scope?"Illimitate":(0,i.jsxs)(i.Fragment,{children:["number"==typeof x?x:"—","number"==typeof n.limit?(0,i.jsxs)("span",{className:"text-gray-400 text-base",children:[" / ",n.limit]}):null]})}),(0,i.jsx)("div",{className:"mt-1",children:(0,i.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full bg-indigo-50 text-indigo-700 border border-indigo-200",children:[p," • piano ",n.plan]})})]})]}),"unlimited"!==n.scope&&(0,i.jsxs)("div",{className:"w-64",children:[(0,i.jsx)("div",{className:"h-3 w-full bg-gray-200 rounded-full overflow-hidden",children:(0,i.jsx)("div",{className:"h-full bg-indigo-600",style:{width:"".concat(u,"%")}})}),(0,i.jsxs)("div",{className:"text-xs text-gray-600 mt-1",children:["Restanti ","number"==typeof m?m:0,"number"==typeof n.limit?" / ".concat(n.limit):""," (",u,"%)"]}),h&&"daily"===n.scope&&(0,i.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Reset alle 00:00 (Europe/Rome) • manca ",h]}),h&&"monthly"===n.scope&&(0,i.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Reset il 1\xb0 del mese alle 00:00 (Europe/Rome) • manca ",h]})]})]})}function o(e){let{plan:s}=e;return(0,i.jsxs)(l.E.span,{initial:{opacity:0,y:-4},animate:{opacity:1,y:0},transition:{duration:.35},className:"inline-flex items-center gap-2 px-3 py-1 rounded-full text-white text-xs font-bold\n                  bg-gradient-to-r ".concat("business"===s?"from-emerald-500 to-teal-600":"pro"===s?"from-indigo-500 to-violet-600":"from-gray-400 to-gray-500"," shadow"),style:{backgroundSize:"200% 200%"},children:[(0,i.jsx)("span",{"aria-hidden":!0,children:"⚡"}),"business_plus"===s?"BUSINESS+":"business"===s?"BUSINESS":"pro"===s?"PRO":"FREE"]})}var c=a(2023),d=a(2934),m=a(6337);function x(e){let{plan:s,onUpgrade:a}=e,t="pro"===s||"business"===s||"business_plus"===s,l="business"===s||"business_plus"===s;return(0,i.jsxs)("section",{className:"mt-10 grid md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,i.jsx)(c.Z,{className:"w-5 h-5 text-emerald-600"}),(0,i.jsx)("h3",{className:"font-semibold",children:"Candidati — Ottimizza il CV"})]}),(0,i.jsxs)("ul",{className:"text-sm text-slate-700 space-y-1 mb-4",children:[(0,i.jsxs)("li",{className:"flex items-center gap-2",children:[(0,i.jsx)(d.Z,{className:"w-4 h-4 text-emerald-600"})," Punteggio di match con la Job Description"]}),(0,i.jsxs)("li",{className:"flex items-center gap-2",children:[(0,i.jsx)(d.Z,{className:"w-4 h-4 text-emerald-600"})," Keyword mancanti e suggerimenti mirati"]}),(0,i.jsxs)("li",{className:"flex items-center gap-2",children:[(0,i.jsx)(d.Z,{className:"w-4 h-4 text-emerald-600"})," CV riscritto e cover letter"]}),(0,i.jsxs)("li",{className:"flex items-center gap-2",children:[(0,i.jsx)(d.Z,{className:"w-4 h-4 text-emerald-600"})," Export PDF/DOCX in 1 click"]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)(()=>(0,i.jsx)("button",{disabled:t,onClick:()=>!t&&(null==a?void 0:a("pro")),className:"px-4 py-2 rounded-xl shadow transition ".concat(t?"bg-emerald-50 text-emerald-700 border border-emerald-200 cursor-default":"bg-emerald-600 text-white hover:shadow-md"),children:t?"Pro attivo":"Passa a Pro (€9/m)"}),{}),l&&(0,i.jsxs)("span",{className:"text-xs text-slate-500",children:["Con Business ",(0,i.jsx)("b",{children:"Pro \xe8 incluso"}),"."]})]})]}),(0,i.jsxs)("div",{className:"rounded-2xl border bg-white p-5 shadow-sm",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,i.jsx)(m.Z,{className:"w-5 h-5 text-indigo-600"}),(0,i.jsx)("h3",{className:"font-semibold",children:"Aziende — Screening pi\xf9 veloce"})]}),(0,i.jsxs)("ul",{className:"text-sm text-slate-700 space-y-1 mb-4",children:[(0,i.jsxs)("li",{className:"flex items-center gap-2",children:[(0,i.jsx)(d.Z,{className:"w-4 h-4 text-indigo-600"})," Match percentuale CV ↔ JD"]}),(0,i.jsxs)("li",{className:"flex items-center gap-2",children:[(0,i.jsx)(d.Z,{className:"w-4 h-4 text-indigo-600"})," Filtri competenze e must-have"]}),(0,i.jsxs)("li",{className:"flex items-center gap-2",children:[(0,i.jsx)(d.Z,{className:"w-4 h-4 text-indigo-600"})," Consigli rapidi per l’allineamento"]}),(0,i.jsxs)("li",{className:"flex items-center gap-2",children:[(0,i.jsx)(d.Z,{className:"w-4 h-4 text-indigo-600"})," Analisi illimitate"]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)(()=>(0,i.jsx)("button",{disabled:l,onClick:()=>!l&&(null==a?void 0:a("business")),className:"px-4 py-2 rounded-xl shadow transition ".concat(l?"bg-indigo-50 text-indigo-700 border border-indigo-200 cursor-default":"bg-indigo-600 text-white hover:shadow-md"),children:l?"Business attivo":"Passa a Business (€49/m)"}),{}),!l&&t&&(0,i.jsxs)("span",{className:"text-xs text-slate-500",children:["Hai Pro: ",(0,i.jsx)("b",{children:"puoi fare upgrade"})," a Business."]})]})]})]})}var u=a(8906),h=a(8896),p=a(1671),g=a(3577),b=a(1239),f=a(2883),j=a(8921);function v(e){return e.toLowerCase().replace(/[^a-zà-ù0-9\s]/gi," ").split(/\s+/).filter(e=>e&&!N.has(e))}let N=new Set("a ad al alla alle agli con col come da dal dalla delle degli di del della delle degli e ed per tra fra il la le lo gli i in su sul sulla nelle negli uno una un che o oppure per\xf2 quindi poi ma se sebbene non piu pi\xf9 meno molto poco sono sei era erano essere avere fare fatto abbiamo avete hanno questo questa quello quella questi queste".split(/\s+/));function w(e){let{plan:s,onUpgrade:a}=e,l=(0,t.useRef)(null),[n,r]=(0,t.useState)({x:50,y:50});(0,t.useEffect)(()=>{let e=l.current;if(!e)return;let s=s=>{let a=e.getBoundingClientRect();r({x:(s.clientX-a.left)/a.width*100,y:(s.clientY-a.top)/a.height*100})};return e.addEventListener("mousemove",s),()=>e.removeEventListener("mousemove",s)},[]);let[o,c]=(0,t.useState)("Esperienza: React, TypeScript, Node, PostgreSQL. Gestione progetti Agile."),[m,x]=(0,t.useState)("Sviluppatore React con TypeScript, esperienza in API Node e database SQL. Agile."),{score:N,missing:w}=(0,t.useMemo)(()=>{let e=new Set(v(o)),s=v(m);if(0===s.length)return{score:0,missing:[]};let a=0,i=[],t=new Set(s);for(let s of t)e.has(s)?a++:i.push(s);let l=Math.round(a/t.size*100);return{score:isFinite(l)?l:0,missing:i.slice(0,8)}},[o,m]),[y,C]=(0,t.useState)("Marta — React, Next.js, UI/UX, TypeScript\nLuca — Java, Spring, SQL\nGiulia — React, Node, TypeScript, SQL, Docker"),S=(0,t.useMemo)(()=>{let e=new Set(v(m));return y.split(/\n+/).map(s=>{let[a,i]=s.split("—").map(e=>(e||"").trim()),t=v(i||""),l=0;for(let s of new Set(t))e.has(s)&&l++;return{name:a||"Candidato",score:e.size?Math.round(l/e.size*100):0}}).filter(e=>e.name).sort((e,s)=>s.score-e.score).slice(0,3)},[y,m]),k="pro"===s||"business"===s||"business_plus"===s,E="business"===s||"business_plus"===s,z=!k&&!E;return(0,i.jsxs)("section",{ref:l,className:"relative overflow-hidden rounded-3xl border bg-gradient-to-b from-white to-slate-50/60 shadow-sm mt-16",children:[(0,i.jsx)("div",{className:"pointer-events-none absolute inset-0 transition-opacity duration-300",style:{background:"radial-gradient(600px circle at ".concat(n.x,"% ").concat(n.y,"%, rgba(99,102,241,0.15), transparent 40%)")}}),(0,i.jsxs)("div",{className:"relative px-6 py-12 md:px-10 lg:px-16",children:[(0,i.jsxs)("div",{className:"text-center max-w-3xl mx-auto",children:[(0,i.jsxs)("p",{className:"inline-flex items-center gap-2 text-sm font-medium text-indigo-600 bg-indigo-50 px-3 py-1 rounded-full",children:[(0,i.jsx)(u.Z,{className:"w-4 h-4"})," Affinit\xe0 CV ↔ Job & Screening veloce"]}),(0,i.jsxs)("h2",{className:"text-2xl md:text-4xl font-bold mt-3 leading-tight",children:["Mostra il ",(0,i.jsx)("span",{className:"text-indigo-600",children:"valore"})," prima di inviare: verifica l'affinit\xe0, colma i gap e accelera lo screening."]}),(0,i.jsx)("p",{className:"text-slate-600 mt-3",children:"Mini-demo per capire come CVBoost.ai ragiona: punteggi 1–100, keyword mancanti e shortlist automatica."})]}),(0,i.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8 mt-10",children:[(0,i.jsxs)("div",{className:"rounded-2xl border bg-white p-5 lg:p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,i.jsx)(h.Z,{className:"w-5 h-5 text-emerald-600"}),(0,i.jsx)("h3",{className:"font-semibold",children:"Candidato — Controlla l'affinit\xe0 prima di candidarti"})]}),(0,i.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,i.jsx)("textarea",{className:"w-full h-36 rounded-xl border p-3 text-sm",value:o,onChange:e=>c(e.target.value),placeholder:"Incolla qui il tuo CV (testo)…"}),(0,i.jsx)("textarea",{className:"w-full h-36 rounded-xl border p-3 text-sm",value:m,onChange:e=>x(e.target.value),placeholder:"Incolla qui l'offerta di lavoro…"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-6 mt-5",children:[(0,i.jsxs)("div",{className:"relative w-24 h-24",children:[(0,i.jsx)("div",{className:"absolute inset-0 rounded-full",style:{background:"conic-gradient(#10b981 ".concat(3.6*N,"deg, #e5e7eb 0deg)")}}),(0,i.jsx)("div",{className:"absolute inset-2 rounded-full bg-white grid place-items-center",children:(0,i.jsx)("span",{className:"font-semibold text-lg",children:N})})]}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("p",{className:"text-sm text-slate-600",children:"Affinit\xe0 stimata CV ↔ JD"}),(0,i.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:0===w.length?(0,i.jsxs)("span",{className:"text-emerald-700 text-sm inline-flex items-center gap-1",children:[(0,i.jsx)(p.Z,{className:"w-4 h-4"}),"Ottimo allineamento"]}):w.map(e=>(0,i.jsxs)("span",{className:"text-xs bg-amber-50 text-amber-700 border border-amber-200 px-2 py-1 rounded-full",children:["manca: ",e]},e))})]})]}),(0,i.jsxs)("div",{className:"mt-5 flex items-center gap-3",children:[k?(0,i.jsxs)("span",{className:"px-4 py-2 rounded-xl bg-emerald-50 text-emerald-700 border border-emerald-200 inline-flex items-center gap-2",children:[(0,i.jsx)(d.Z,{className:"w-4 h-4"})," Pro attivo"]}):(0,i.jsx)("button",{onClick:()=>null==a?void 0:a("pro"),className:"px-4 py-2 rounded-xl bg-emerald-600 text-white shadow hover:shadow-md transition",children:"Passa a Pro"}),E&&(0,i.jsxs)("p",{className:"text-xs text-slate-500",children:["Con Business ",(0,i.jsx)("b",{children:"Pro \xe8 incluso"}),"."]})]})]}),(0,i.jsxs)("div",{className:"rounded-2xl border bg-white p-5 lg:p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,i.jsx)(g.Z,{className:"w-5 h-5 text-indigo-600"}),(0,i.jsx)("h3",{className:"font-semibold",children:"Aziende — Shortlist in pochi secondi"})]}),(0,i.jsxs)("div",{className:"grid gap-4",children:[(0,i.jsx)("textarea",{className:"w-full h-24 rounded-xl border p-3 text-sm",value:m,onChange:e=>x(e.target.value),placeholder:"Incolla la Job Description…"}),(0,i.jsx)("textarea",{className:"w-full h-24 rounded-xl border p-3 text-sm",value:y,onChange:e=>C(e.target.value),placeholder:"Incolla candidati (uno per riga)\nEs:\nMarta — React, Next.js, UI/UX\nLuca — Java, Spring, SQL"}),(0,i.jsx)("div",{className:"mt-1",children:S.map(e=>(0,i.jsxs)("div",{className:"mb-2",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,i.jsx)("span",{className:"font-medium",children:e.name}),(0,i.jsx)("span",{className:"text-slate-500",children:e.score})]}),(0,i.jsx)("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:(0,i.jsx)("div",{className:"h-full bg-indigo-500",style:{width:"".concat(e.score,"%")}})})]},e.name))}),(0,i.jsxs)("div",{className:"mt-3 flex items-center gap-3",children:[E?(0,i.jsxs)("span",{className:"px-4 py-2 rounded-xl bg-indigo-50 text-indigo-700 border border-indigo-200 inline-flex items-center gap-2",children:[(0,i.jsx)(d.Z,{className:"w-4 h-4"})," Business attivo"]}):(0,i.jsx)("button",{onClick:()=>null==a?void 0:a("business"),className:"px-4 py-2 rounded-xl bg-indigo-600 text-white shadow hover:shadow-md transition",children:"Passa a Business"}),!E&&k&&(0,i.jsxs)("p",{className:"text-xs text-slate-500",children:["Hai Pro: ",(0,i.jsx)("b",{children:"puoi fare upgrade"})," a Business."]})]})]})]})]}),(0,i.jsxs)("div",{className:"mt-10 grid md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{className:"rounded-xl border bg-white p-4 flex items-start gap-3",children:[(0,i.jsx)(u.Z,{className:"w-5 h-5 text-emerald-600 mt-0.5"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium",children:"Accesso sicuro, senza password"}),(0,i.jsx)("p",{className:"text-sm text-slate-600",children:"Link monouso, scadenza rapida e niente password da ricordare."})]})]}),(0,i.jsxs)("div",{className:"rounded-xl border bg-white p-4 flex items-start gap-3",children:[(0,i.jsx)(b.Z,{className:"w-5 h-5 text-amber-500 mt-0.5"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium",children:"Punteggi immediati"}),(0,i.jsx)("p",{className:"text-sm text-slate-600",children:"Valutazioni 1–100 e keyword mancanti per azioni concrete."})]})]}),(0,i.jsxs)("div",{className:"rounded-xl border bg-white p-4 flex items-start gap-3",children:[(0,i.jsx)(f.Z,{className:"w-5 h-5 text-indigo-600 mt-0.5"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium",children:"Export e automazioni"}),(0,i.jsx)("p",{className:"text-sm text-slate-600",children:"PDF/DOCX in 1 click e batch scoring per team HR."})]})]})]}),(0,i.jsx)("div",{className:"mt-10 flex flex-col sm:flex-row items-center justify-center gap-3",children:z?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("a",{href:"#pricing",className:"px-5 py-3 rounded-2xl bg-black text-white shadow hover:shadow-lg transition flex items-center gap-2",children:[(0,i.jsx)(j.Z,{className:"w-4 h-4"})," Provalo gratis: 3 analisi"]}),(0,i.jsx)("span",{className:"text-slate-500 text-sm",children:"Nessuna carta richiesta • Disdici quando vuoi"})]}):E?(0,i.jsxs)("span",{className:"px-4 py-2 rounded-2xl bg-indigo-50 text-indigo-700 border border-indigo-200",children:["Hai ",(0,i.jsx)("b",{children:"Business"})," attivo • Analisi illimitate"]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:()=>null==a?void 0:a("business"),className:"px-5 py-3 rounded-2xl bg-indigo-600 text-white shadow hover:shadow-lg transition",children:"Sblocca la shortlist con Business"}),(0,i.jsx)("span",{className:"text-slate-500 text-sm",children:"Hai Pro attivo • Upgrade rapido"})]})})]})]})}var y=a(9862),C=a(5005);function S(e){let{mode:s,onChange:a}=e,l="candidate"===s?0:1,n=(0,t.useMemo)(()=>({transform:"translateX(".concat(100*l,"%)")}),[l]);return(0,i.jsxs)("div",{className:"relative w-[260px] h-11 rounded-2xl border bg-white shadow-sm overflow-hidden",children:[(0,i.jsx)("div",{className:"absolute inset-y-0 left-0 w-1/2 rounded-2xl transition-transform duration-300 ease-out ".concat("candidate"===s?"bg-emerald-50 border border-emerald-100":"bg-indigo-50 border border-indigo-100"),style:n}),(0,i.jsxs)("div",{className:"absolute inset-0 grid grid-cols-2",children:[(0,i.jsxs)("button",{type:"button",onClick:()=>a("candidate"),className:"relative z-10 flex items-center justify-center gap-2 text-sm font-medium transition-colors ".concat("candidate"===s?"text-emerald-700":"text-slate-500 hover:text-slate-700"),children:[(0,i.jsx)(y.Z,{className:"w-4 h-4"}),"Candidato"]}),(0,i.jsxs)("button",{type:"button",onClick:()=>a("recruiter"),className:"relative z-10 flex items-center justify-center gap-2 text-sm font-medium transition-colors ".concat("recruiter"===s?"text-indigo-700":"text-slate-500 hover:text-slate-700"),children:[(0,i.jsx)(C.Z,{className:"w-4 h-4"}),"Recruiter"]})]})]})}function k(e){let{mode:s,children:a,className:l=""}=e,n=(0,t.useRef)(null),[r,o]=(0,t.useState)({x:50,y:50});return(0,t.useEffect)(()=>{let e=n.current;if(!e)return;let s=s=>{let a=e.getBoundingClientRect();o({x:(s.clientX-a.left)/a.width*100,y:(s.clientY-a.top)/a.height*100})};return e.addEventListener("mousemove",s),()=>e.removeEventListener("mousemove",s)},[]),(0,i.jsxs)("div",{ref:n,className:"relative ".concat(l),children:[(0,i.jsx)("div",{className:"pointer-events-none absolute inset-0 transition-opacity",style:{background:"radial-gradient(600px circle at ".concat(r.x,"% ").concat(r.y,"%, ").concat("candidate"===s?"rgba(16,185,129,0.16)":"rgba(99,102,241,0.16)",", transparent 40%)")}}),(0,i.jsx)("div",{className:"relative",children:a})]})}function E(e){return/50 analisi mensili del piano pro/i.test(e)?"Hai esaurito le 50 analisi mensili del piano Pro. Passa a Business per analisi illimitate.":e}function z(){var e,s;let[a,c]=(0,t.useState)(""),[d,m]=(0,t.useState)(""),[u,h]=(0,t.useState)(!1),[p,g]=(0,t.useState)(null),[b,f]=(0,t.useState)(null),[j,v]=(0,t.useState)(null),[N,y]=(0,t.useState)(null),[C,z]=(0,t.useState)(null),[P,A]=(0,t.useState)(null),[R,D]=(0,t.useState)(0),[L,V]=(0,t.useState)("candidate"),I="candidate"===L?{accent:"text-emerald-600",btn:"bg-emerald-600 hover:bg-emerald-700",ring:"focus:ring-emerald-500"}:{accent:"text-indigo-600",btn:"bg-indigo-600 hover:bg-indigo-700",ring:"focus:ring-indigo-500"};async function M(){if(v(null),!a||!d){v("Inserisci entrambi i campi.");return}h(!0);try{var e,s,i;let t="candidate"===L?{resume:a,jobDescription:d,locale:"it",mode:L}:{resume:d,jobDescription:a,locale:"it",mode:L},l=await fetch("/api/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await l.json();if(!l.ok)throw Error(E((null==n?void 0:n.error)||"Errore analisi"));y(n),z(null!==(e=null==n?void 0:n.remaining)&&void 0!==e?e:null),A(null!==(i=null!==(s=null==n?void 0:n.plan)&&void 0!==s?s:P)&&void 0!==i?i:null),D(e=>e+1)}catch(e){v(E(e.message||"Errore analisi")),D(e=>e+1)}finally{h(!1)}}async function B(e){if(!N){v("Esegui prima una analisi.");return}g(e);try{let s=await fetch("/api/export/".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({resumeImproved:N.improvedResume,coverLetter:N.coverLetter,score:N.score,missingKeywords:N.missingKeywords,suggestions:N.suggestions,locale:"it"})});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error(E((null==e?void 0:e.error)||"Export failed"))}let a=await s.blob(),i=URL.createObjectURL(a),t=document.createElement("a");t.href=i,t.download="pdf"===e?"CVBoost-report.pdf":"CVBoost-report.docx",document.body.appendChild(t),t.click(),t.remove(),URL.revokeObjectURL(i)}catch(e){v(E(e.message||"Errore export"))}finally{g(null)}}async function O(e){if("business_plus"===e){v("Business+ \xe8 attualmente esaurito. Torna presto!");return}f(e);try{let s=await fetch("/api/checkout/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tier:e,successUrl:window.location.origin+"/?checkout=success",cancelUrl:window.location.href})}),a=await s.json();if(!(null==a?void 0:a.url))throw Error("Checkout non disponibile");window.location.href=a.url}catch(e){v(E(e.message||"Errore checkout"))}finally{f(null)}}return(0,t.useEffect)(()=>{(async()=>{try{var e;let s=await fetch("/api/auth/me",{cache:"no-store"}),a=await s.json();A(null!==(e=null==a?void 0:a.plan)&&void 0!==e?e:"free")}catch(e){A("free")}})()},[]),(0,i.jsxs)("div",{className:"min-h-screen bg-gray-50 text-gray-900",children:[(0,i.jsxs)("header",{className:"relative bg-white border-b",children:[(0,i.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsxs)("div",{className:"font-extrabold text-xl",children:["CVBoost",(0,i.jsx)("span",{className:I.accent,children:".ai"})]}),(0,i.jsx)(o,{plan:P})]}),(0,i.jsx)(n,{onAuthChange:e=>{let{me:s}=e;A(s.plan),z(null),D(e=>e+1)}})]}),(0,i.jsx)("div",{className:"max-w-5xl mx-auto px-4 pb-4",children:(0,i.jsx)(r,{refreshKey:R,overrideRemaining:C})})]}),(0,i.jsxs)("main",{className:"max-w-5xl mx-auto px-4 py-8",children:[(0,i.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-4",children:[(0,i.jsxs)(l.E.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-3xl md:text-4xl font-bold",children:["Ottimizza il tuo ",(0,i.jsx)("span",{className:I.accent,children:"CV"})," per gli ATS in 60 secondi"]}),(0,i.jsx)("div",{className:"flex justify-center md:justify-end",children:(0,i.jsx)(S,{mode:L,onChange:V})})]}),(0,i.jsx)("p",{className:"text-gray-600 mb-8 max-w-3xl",children:"candidate"===L?(0,i.jsxs)(i.Fragment,{children:["Se stai ",(0,i.jsx)("b",{children:"cercando lavoro"}),", incolla il tuo CV a sinistra e la Job Description a destra. Otterrai",(0,i.jsx)("span",{className:"font-semibold",children:" punteggio"}),",",(0,i.jsx)("span",{className:"font-semibold",children:" keyword mancanti"}),",",(0,i.jsx)("span",{className:"font-semibold",children:" CV riscritto"})," e cover letter."]}):(0,i.jsxs)(i.Fragment,{children:["Se sei un ",(0,i.jsx)("b",{children:"recruiter"}),", incolla l’",(0,i.jsx)("b",{children:"annuncio/descrizione del ruolo"})," a sinistra e, a destra, un ",(0,i.jsx)("b",{children:"CV di riferimento"})," (opzionale) o i requisiti chiave. Lo screening ATS confronter\xe0 i due testi."]})}),(0,i.jsxs)(k,{mode:L,children:[(0,i.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{className:"bg-white rounded-2xl shadow p-4 border",children:[(0,i.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"candidate"===L?"CV (testo) — per chi cerca lavoro":"Annuncio / Descrizione Ruolo — per recruiter"}),(0,i.jsx)("textarea",{className:"w-full h-56 p-3 border rounded-xl focus:outline-none focus:ring-2 ".concat(I.ring),placeholder:"candidate"===L?"Incolla qui il tuo CV in testo…":"Incolla qui il testo dell’annuncio/ruolo…",value:a,onChange:e=>c(e.target.value)}),(0,i.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"candidate"===L?"Suggerimento: includi risultati numerici (%, €, tempo) per aumentare il punteggio.":"Suggerimento: specifica seniority, stack tecnologico, soft skills e must-have."})]}),(0,i.jsxs)("div",{className:"bg-white rounded-2xl shadow p-4 border",children:[(0,i.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"candidate"===L?"Job Description":"CV di riferimento / Requisiti chiave"}),(0,i.jsx)("textarea",{className:"w-full h-56 p-3 border rounded-xl focus:outline-none focus:ring-2 ".concat(I.ring),placeholder:"candidate"===L?"Incolla la JD del ruolo…":"Incolla un CV di riferimento o elenca i requisiti chiave…",value:d,onChange:e=>m(e.target.value)}),(0,i.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"candidate"===L?"La JD viene confrontata con il tuo CV per identificare gap e suggerimenti.":"Se non hai un CV di riferimento, scrivi le competenze “ideali” per il ruolo."})]})]}),(0,i.jsxs)("div",{className:"mt-4 flex items-center gap-3",children:[(0,i.jsx)("button",{onClick:M,disabled:u,className:"px-5 py-3 rounded-xl text-white font-semibold shadow hover:shadow-md disabled:opacity-60 ".concat(I.btn),children:u?"Analisi in corso…":"candidate"===L?"Analizza CV":"Analizza annuncio"}),"business"!==P&&"business_plus"!==P&&(0,i.jsx)("span",{className:"text-sm text-gray-500",children:"Gratis 3 Analisi • Passa a Pro: 50 Analisi Mensili • Passa a Business: Analisi Illimitate"})]})]}),j&&(0,i.jsx)("div",{className:"mt-4 p-3 bg-red-50 text-red-700 border border-red-200 rounded-xl",children:j}),N&&(0,i.jsxs)(l.E.section,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-8 grid md:grid-cols-3 gap-6",children:[(0,i.jsxs)("div",{className:"bg-white rounded-2xl shadow p-4 border",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Punteggio Match"}),(0,i.jsx)("div",{className:"text-4xl font-extrabold ".concat(I.accent.replace("text-","text-")),children:N.score}),(0,i.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"su 100"}),(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsx)("div",{className:"text-sm font-semibold mb-1",children:"Keyword mancanti"}),(0,i.jsx)("ul",{className:"list-disc pl-5 text-sm text-gray-700",children:(null===(e=N.missingKeywords)||void 0===e?void 0:e.length)?N.missingKeywords.map((e,s)=>(0,i.jsx)("li",{children:e},s)):(0,i.jsx)("li",{children:"Nessuna keyword critica mancante \uD83C\uDFAF"})})]})]}),(0,i.jsxs)("div",{className:"bg-white rounded-2xl shadow p-4 border md:col-span-2",children:[(0,i.jsx)("div",{className:"text-sm font-semibold mb-2",children:"Suggerimenti"}),(0,i.jsx)("ul",{className:"list-disc pl-5 text-sm text-gray-700 space-y-1",children:null===(s=N.suggestions)||void 0===s?void 0:s.map((e,s)=>(0,i.jsx)("li",{children:e},s))}),(0,i.jsxs)("div",{className:"mt-4 flex flex-wrap gap-3",children:[(0,i.jsx)("button",{onClick:()=>B("pdf"),disabled:"pdf"===p,className:"px-4 py-2 rounded-lg border shadow-sm hover:shadow disabled:opacity-60",children:"pdf"===p?"Esporto PDF…":"Esporta PDF"}),(0,i.jsx)("button",{onClick:()=>B("docx"),disabled:"docx"===p,className:"px-4 py-2 rounded-lg border shadow-sm hover:shadow disabled:opacity-60",children:"docx"===p?"Esporto DOCX…":"Esporta DOCX"})]}),(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsx)("div",{className:"text-sm font-semibold mb-1",children:"Sezione CV riscritta"}),(0,i.jsx)("pre",{className:"whitespace-pre-wrap text-sm bg-gray-50 p-3 rounded-xl border",children:N.improvedResume})]}),(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsx)("div",{className:"text-sm font-semibold mb-1",children:"Cover letter generata"}),(0,i.jsx)("pre",{className:"whitespace-pre-wrap text-sm bg-gray-50 p-3 rounded-xl border",children:N.coverLetter})]})]})]}),(0,i.jsx)(x,{plan:P,onUpgrade:e=>"pro"===e?O("pro"):"business"===e?O("business"):void 0}),(0,i.jsx)(w,{plan:P,onUpgrade:e=>"pro"===e?O("pro"):"business"===e?O("business"):void 0})]})]})}}},function(e){e.O(0,[672,971,117,744],function(){return e(e.s=519)}),_N_E=e.O()}]);